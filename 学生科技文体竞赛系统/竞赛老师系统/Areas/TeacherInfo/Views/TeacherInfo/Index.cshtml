
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<style type="text/css">
    .mylabel {
        font-size: large;
        font-weight: bold;
        padding: 0;
        width: 5em;
        margin-bottom: 0px;
        margin-left: 7em;
    }
</style>





<div class="modal fade" id="queryInfo2" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"
                        aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalTitle">修改基本信息</h4>
            </div>
            <div class="modal-body">
                <div class="input-group" id="model1">
                    <span class="input-group-addon">&nbsp;&nbsp;姓&nbsp;&nbsp;&nbsp;&nbsp;名&nbsp;&nbsp;</span>
                    <input type="text" class="form-control my_input"
                           id="input1" data-toggle="popover"
                           data-content="不能为空"
                           data-placement="bottom">
                </div>
                <br />
                <div class="input-group" id="model2">
                    <span class="input-group-addon">&nbsp;&nbsp;籍&nbsp;&nbsp;&nbsp;&nbsp;贯&nbsp;&nbsp;</span>
                    <input type="text" class="form-control"
                           id="input2" data-toggle="popover"
                           data-content="不能为空"
                           data-placement="bottom">
                </div>
                <br />
                <div class="input-group" id="model3">
                    <span class="input-group-addon">手机号码</span>
                    <input type="text" class="form-control"
                           id="input3" data-toggle="popover"
                           data-content="不能为空"
                           data-placement="bottom">
                </div>
                <div class="input-group" id="model3" style=" display:none">
                    <input type="text" class="form-control"
                           id="input4">
                </div>
                <br />

                <div class="input-group" id="model3">
                    <span class="input-group-addon">办公地址</span>
                    <input type="text" class="form-control"
                           id="input3" data-toggle="popover"
                           data-content="不能为空"
                           data-placement="bottom">
                </div>
                <div class="input-group" id="model3" style=" display:none">
                    <input type="text" class="form-control"
                           id="input4">
                </div>

                <div class="modal-footer">

                    <button type="submit" class="btn btn-success" id="btn_Info" value="1">提交</button>
                    <button type="button" class="btn btn-default" id="myclose"
                            data-dismiss="modal">
                        关闭
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal -->
    </div>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="panel panel-default" style="margin-top: 60px;margin-right:30px;margin-left:20px">
        <h1 class="panel-heading" style="background-color:white">个人信息</h1>
        <div class="clearfix"></div>
    </div>
</div>


<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="panel panel-default" style="margin-top: 20px;margin-right:30px;margin-left:20px">
        <br />
        <br />
        <label class="control-label col-sm-1 mylabel" for="txt_search_statu" style="font-size:18px; margin-top: 5px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;姓名</label>
        <div class="col-sm-4">
            <input id="name" name="name" type="text"  class="form-control fl re-search" style="background-color:white; text-align: center;font-size: large; font-weight: bold;" />
        </div>
        <br />
        <br />
        <br />
        <label class="control-label col-sm-2 mylabel" for="txt_search_statu" style="font-size:18px; margin-top: 5px;">&nbsp;&nbsp;&nbsp;手机号码</label>
        <div class="col-sm-4">
            <input id="tel" name="tel" type="text"  class="form-control fl re-search " style="background-color:white; text-align: center;font-size: large; font-weight: bold;" />
        </div>
        <br />
        <br />
        <br />
        <label class="control-label col-sm-2 mylabel" for="txt_search_statu" style="font-size:18px; margin-top: 5px;">邮箱</label>
        <div class="col-sm-4">
            <input id="E-mail" name="mail" type="text"  class="form-control fl re-search" style="background-color:white; text-align: center;font-size: large; font-weight: bold;" />
        </div>
        <br />
        <br />
        <label class="control-label col-sm-2 mylabel" for="txt_search_statu" style="font-size:18px; margin-top: 5px;">办公地址</label>
        <div class="col-sm-4">
            <input id="Office" name="Office" type="text" class="form-control fl re-search" style="background-color:white; text-align: center;font-size: large; font-weight: bold;" />
        </div>





        <div class="row  clearfix">
            <div class="span10 offset2" style="text-align:right;margin-right:10%">
                <input type="button" name="submit" id="my_Info" class="btn btn-warning" value="修改基本信息" data-toggle="tooltip" data-placement="top" title="不包含密码">
                <input type="button" name="submit" id="my_btn" class="btn btn-danger" value="修改密码" style="margin-left: 200px" ; data-toggle="tooltip" data-placement="left" title="修改密码">
            </div>
            <br />
            <br />
        </div>

    </div>

</div>






<script src="~/Scripts/jquery.min.js"></script>
<script>
    $(document).ready(function () {

        $(function () {
            toastr.options = {
                "closeButton": false,
                "debug": false,
                "postitionClass": "toast-top-full-width",
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            };

            $.ajax({
                type: "POST",//请求方式
                url: '/TeacherInfo/TeacherInfo/GetMessage',
                dataType: "json",
                success: function (data) {
                    $("#name").val(data.姓名);
                    $("#tel").val(data.手机号码);
                    $("#E-mail").val(data.邮箱);
                    $("#Office").val(data.办公地址);

                }
            });
        });





        $("#my_Info").click(function () {

            $.ajax({
                url: "/TeacherInfo/TeacherInfo/GetMessage",
                type: "post",
                dataType: "json",
                contentType: "application/json",
                data: JSON.stringify({
                    "name": $("#name").val(),
                    "tel": $("#tel").val(),
                    "Email": $("#E-mail").val(),
                    "Office": $("#Office").val(),
                }),
                success: function (data) {
                    if (data) {
                        alert("成功修改");
                    }
                    
                }
            });
        });


    });
  
  
</script>



